


       
      I'm been working with the imagecreatefromjpeg function and a weird thing happens. There are some jpg images that view fine in the browser but does not when using a simple imagecreatefromjpeg script.   // jpegtest.php // use as jpegtest.php?imagename=[filename]  header("Content-type: image/jpeg"); $im = imagecreatefromjpeg($_GET['imagename']); imagejpeg($im); imagedestroy($im); ?>  The binary representation of the jpg file can be found here -  urlLink http://www.geocities.com/tapsemi/datastruct.html   I found that all of the well behaved images follow this order, however, the troublesome images switch the DCT and Hoffman sections. Obviously, my first hypothesis is to switch the order of the sections and write out the jpg file. I wrote the whole analysis thing in a php class and seems to work. just need to verfy things here and there. My class is also buggy and doesn't output the complete binary data stream. After I fixed my own bugs, then I can conclusively say if my method fixed the problem or not and possibly send the suggestion to PHP or GD, when I figure out where the problem lies (more about this below).  There have been suggestions that the problem might be stemming from the GD library itself, but I'm not sure about that. To make this assumption conclusive, I'm going to need to know how mozilla handles jpg images or if just hands it off to the gd library too. If mozilla uses the GD library, then the problem is in PHP. If not, then it's probably a Gd library problem and I need ask someone there. I'll probably do this in my next stage of testing. I've looked through the PHP source code and my head starts to spin. Currently learning the ZEND developer docs at php.net.  One thing that amazed me is that it's possible to make an online hex editor. If this is so, then it might be possible to make a php based assemmbly simulator. If this is possible, the other applications can be made with just php and it's possible to start my Global Terminal computing idea to reality (Linux user space and other techs). Sure, sure Java can be used, but php had more potential to grow (unless java become open source). Also, I haven't been able to find a limitation of PHP. Maybe my projects aren't ambitious enough. It's also my hopes that during my inquires to aid me in my quest, people will start to realize PHP can be used for things not previously thought of.  I've also did a google news posting. Hopefully I'll get an answer. ----------------------------------------- Hello, I'm doing a number of personal experiments with jpg images and I havea few questions. Most of the question comes from the binaryrepresentation of the jpg file.  1. JPG File structure order preservationWith reference to this link http://www.geocities.com/tapsemi/datastruct.html Does the order of the different sections need to be preserved? If not,how much section swapping can one do without loosing the file identityof a jpg file? (In another words: What are the terms of sectionswapping)  2. Duplicate image detectionI'm curious as to which of the sections in the jpg file can be used touniquely identify the image regardless of the image size. I'm playingwith the idea of using the DCT or Hoffman encoding section as meansfor identification. I currently have an algorithm that takes pixelinformation every 10 pixels on a diagonal line on the image. Theemphasis is on rapid identification/dulicate detection. My goal is toidenfity 1,000,000+ images per second with a 7200rpm ATA HDD on asingle processor ~2Ghz computer and scalable within a HPC environment(cluster actually)  3. JPG File structure referencesWhere can I find more information about the JPG file structure fromthe binary point of view? I'm looking into the possibility of usingjpgs as 'DNA' maps/masks for signal processing of high speed digitalcommunications. If work in this area has already been established,please send me some references.  4. Legalities of Reverse EngineeringI'm wondering if it's legal to do these types of reverse engineeringwithout having a copy of the JPG standard (I know it helps to have it,but more content rich and fun doing it in reverse)  Thanks in advaced. It's my hope to to develope something useful forthe community.  James  -----------------------------------------   Sometimes I wonder if I've gone mad. 
     

    
